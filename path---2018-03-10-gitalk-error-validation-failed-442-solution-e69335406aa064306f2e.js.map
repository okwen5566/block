{"version":3,"sources":["webpack:///path---2018-03-10-gitalk-error-validation-failed-442-solution-e69335406aa064306f2e.js","webpack:///./.cache/json/2018-03-10-gitalk-error-validation-failed-442-solution.json"],"names":["webpackJsonp","1025","module","exports","data","content","title","createdDate","headerImgur","id","toc","tags","latestPosts","totalCount","edges","node","url","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,KACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,SAAWA,QAAA,8xFAAu7EC,MAAA,8CAAAC,YAAA,yBAAAC,YAAA,KAAAC,GAAA,yBAAAC,KAAA,8BAAAC,KAAA,8BAAwnBC,aAAgBC,WAAA,GAAAC,QAA0BC,MAAQT,MAAA,wCAAAU,IAAA,qBAAAT,YAAA,4BAAqHQ,MAAQT,MAAA,kEAAAU,IAAA,qCAAAT,YAAA,4BAA+JQ,MAAQT,MAAA,OAAAU,IAAA,kBAAAT,YAAA,4BAAiFQ,MAAQT,MAAA,yCAAAU,IAAA,+BAAAT,YAAA,4BAAgIQ,MAAQT,MAAA,kBAAAU,IAAA,gCAAAT,YAAA,4BAA0GQ,MAAQT,MAAA,gCAAAU,IAAA,4CAAAT,YAAA,8BAAqIU,aAAgBR,GAAA","file":"path---2018-03-10-gitalk-error-validation-failed-442-solution-e69335406aa064306f2e.js","sourcesContent":["webpackJsonp([47520242992039],{\n\n/***/ 1025:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"content\":{\"content\":\"<h2 id=前言>前言</h2>\\n<p>最近忙著大學的事情，少了時間寫博客文章。可是沒想到在過去那一篇文章發佈之後，就遇到 Gitalk 評論區出現 <code>Error: Validation Failed.</code> 這樣的問題，在 Github 上面和網友討論之後，想出了一個解決方法，希望可以拋磚引玉。</p>\\n<h2 id=問題>問題</h2>\\n<p><a data-fancybox=\\\"gallery\\\" href=\\\"https://i.imgur.com/G3fhUVVh.jpg\\\"><img class=\\\"lozad d-block mx-auto\\\" data-src=https://i.imgur.com/G3fhUVVl.jpg title=\\\"\\\" /></a></p>\\n<p>Github 更新了關於 Issue 字數的限制，利用 location.pathname 的話創建 Issue 的 Tag 的話，很容易超過 50 字。</p>\\n<h2 id=方法>方法</h2>\\n<p>這是原本的配置，也是 Github Repo 上面的入門方法。</p>\\n<pre><code><pre><code class=\\\"hljs javascript\\\"><span class=\\\"hljs-keyword\\\">const</span> gitalk = <span class=\\\"hljs-keyword\\\">new</span> Gitalk({\\n  <span class=\\\"hljs-attr\\\">clientID</span>: <span class=\\\"hljs-string\\\">'Github Application Client ID'</span>,\\n  <span class=\\\"hljs-attr\\\">clientSecret</span>: <span class=\\\"hljs-string\\\">'Github Application Client Secret'</span>,\\n  <span class=\\\"hljs-attr\\\">repo</span>: <span class=\\\"hljs-string\\\">'Github repo'</span>,\\n  <span class=\\\"hljs-attr\\\">owner</span>: <span class=\\\"hljs-string\\\">'Github repo owner'</span>,\\n  <span class=\\\"hljs-attr\\\">admin</span>: [<span class=\\\"hljs-string\\\">'Github repo owner and collaborators, only these guys can initialize github issues'</span>],\\n  <span class=\\\"hljs-attr\\\">id</span>: location.pathname,      <span class=\\\"hljs-comment\\\">// Ensure uniqueness and length less than 50</span>\\n  distractionFreeMode: <span class=\\\"hljs-literal\\\">false</span>  <span class=\\\"hljs-comment\\\">// Facebook-like distraction free mode</span>\\n});\\n</code></pre></code></pre>\\n<h3 id=解決思路>解決思路</h3>\\n<p>如果直接修改 id 的賦值的話，那麼當 Gitalk 尋找以前的標籤的時候，便會出現找不到 Issue，自動創建一個新討論區的問題。。。</p>\\n<p>這很明顯不是我們需要的設計，我們是想要繼續運用那一個 Issue。</p>\\n<p>於是我便想了一下最近的 Issue 和以前的 Issue 的區別，其中一個就是時間的分別。</p>\\n<p>因為我遇到這個問題是 2018年 3月，所以用這個時間分開 id 的賦值就好了，比如把標題 (title) 設置成 id：</p>\\n<pre><code><pre><code class=\\\"hljs javascript\\\"><span class=\\\"hljs-keyword\\\">const</span> issueDate = <span class=\\\"hljs-string\\\">'2018-03-01'</span>;\\n\\n<span class=\\\"hljs-keyword\\\">if</span> (moment(createdDate).isAfter(issueDate)) {\\n  id = title;\\n}\\n</code></pre></code></pre>\\n<p>這樣的話，其實就可以了。但如果文章的標題很長的話，那又會超出 50字的限制。。。那麼用 md5 把字數縮短一下就好了。它既帶有唯一的特性，也可以限制字數。</p>\\n<p>首先安裝 md5 工具: <code>npm install md5</code>\\n然後在你寫入 Gitalk 評論區的地方寫入以下代碼：</p>\\n<pre><code><pre><code class=\\\"hljs javascript\\\"><span class=\\\"hljs-keyword\\\">import</span> md5 <span class=\\\"hljs-keyword\\\">from</span> <span class=\\\"hljs-string\\\">'md5'</span>;\\n\\nid = md5(title);\\n</code></pre></code></pre>\\n<p>如果你是使用 React 或者想要觀看代碼更改的話，那麼你可以查看我的 Commit Log： https://github.com/calpa/blog/commit/88c83f66b070655e645581783097f019e6539c0e#diff-b334c7299860c69226f3d8a8f4a36c1f</p>\\n<p>如果你覺得實用的話，不妨 Star 一下以獲得之後的最新更新。</p>\\n<h2 id=相關鏈接>相關鏈接</h2>\\n<ol>\\n<li><a href=\\\"https://www.npmjs.com/package/md5\\\">md5</a></li>\\n<li><a href=\\\"https://github.com/gitalk/gitalk\\\">gitalk/gitalk</a></li>\\n</ol>\\n\",\"title\":\"Gitalk Error: Validation Failed. 442 報錯解決方法\",\"createdDate\":\"2018-03-10T21:00+08:00\",\"headerImgur\":null,\"id\":\"3tKSnvjpFm6MUiYKOmAGk0\",\"toc\":[\"前言\",\"問題\",\"方法\",\"解決思路\",\"相關鏈接\"],\"tags\":\"Github, Gitalk, JavaScript\"},\"latestPosts\":{\"totalCount\":60,\"edges\":[{\"node\":{\"title\":\"【網易考拉校招】部門總監面對面-直播答疑邀約（附網易內推碼B222E54）\",\"url\":\"netease-kaola-live\",\"createdDate\":\"2018-08-01T20:00+08:00\"}},{\"node\":{\"title\":\"Uncaught ReferenceError: regeneratorRuntime is not defined 解決方法\",\"url\":\"regenerator-runtime-is-not-defined\",\"createdDate\":\"2018-07-29T20:00+08:00\"}},{\"node\":{\"title\":\"關於作者\",\"url\":\"about-calpa-liu\",\"createdDate\":\"2018-05-01T20:00+08:00\"}},{\"node\":{\"title\":\"【方法】在直接複製貼上內容的時候，可能已經不知不覺注入了一段不可視的「空白」\",\"url\":\"insert-zero-width-characters\",\"createdDate\":\"2018-04-06T23:00+08:00\"}},{\"node\":{\"title\":\"知乎無限 live 數據流網站\",\"url\":\"zhihu-unlimited-lives-website\",\"createdDate\":\"2018-03-28T20:49+08:00\"}},{\"node\":{\"title\":\"Gatsbyjs async/await 更新報錯解決方法\",\"url\":\"gatsybjs-async-await-upgrade-bug-solution\",\"createdDate\":\"2018-03-21T20:00+08:00\"}}]}},\"pathContext\":{\"id\":\"3tKSnvjpFm6MUiYKOmAGk0\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---2018-03-10-gitalk-error-validation-failed-442-solution-e69335406aa064306f2e.js","module.exports = {\"data\":{\"content\":{\"content\":\"<h2 id=前言>前言</h2>\\n<p>最近忙著大學的事情，少了時間寫博客文章。可是沒想到在過去那一篇文章發佈之後，就遇到 Gitalk 評論區出現 <code>Error: Validation Failed.</code> 這樣的問題，在 Github 上面和網友討論之後，想出了一個解決方法，希望可以拋磚引玉。</p>\\n<h2 id=問題>問題</h2>\\n<p><a data-fancybox=\\\"gallery\\\" href=\\\"https://i.imgur.com/G3fhUVVh.jpg\\\"><img class=\\\"lozad d-block mx-auto\\\" data-src=https://i.imgur.com/G3fhUVVl.jpg title=\\\"\\\" /></a></p>\\n<p>Github 更新了關於 Issue 字數的限制，利用 location.pathname 的話創建 Issue 的 Tag 的話，很容易超過 50 字。</p>\\n<h2 id=方法>方法</h2>\\n<p>這是原本的配置，也是 Github Repo 上面的入門方法。</p>\\n<pre><code><pre><code class=\\\"hljs javascript\\\"><span class=\\\"hljs-keyword\\\">const</span> gitalk = <span class=\\\"hljs-keyword\\\">new</span> Gitalk({\\n  <span class=\\\"hljs-attr\\\">clientID</span>: <span class=\\\"hljs-string\\\">'Github Application Client ID'</span>,\\n  <span class=\\\"hljs-attr\\\">clientSecret</span>: <span class=\\\"hljs-string\\\">'Github Application Client Secret'</span>,\\n  <span class=\\\"hljs-attr\\\">repo</span>: <span class=\\\"hljs-string\\\">'Github repo'</span>,\\n  <span class=\\\"hljs-attr\\\">owner</span>: <span class=\\\"hljs-string\\\">'Github repo owner'</span>,\\n  <span class=\\\"hljs-attr\\\">admin</span>: [<span class=\\\"hljs-string\\\">'Github repo owner and collaborators, only these guys can initialize github issues'</span>],\\n  <span class=\\\"hljs-attr\\\">id</span>: location.pathname,      <span class=\\\"hljs-comment\\\">// Ensure uniqueness and length less than 50</span>\\n  distractionFreeMode: <span class=\\\"hljs-literal\\\">false</span>  <span class=\\\"hljs-comment\\\">// Facebook-like distraction free mode</span>\\n});\\n</code></pre></code></pre>\\n<h3 id=解決思路>解決思路</h3>\\n<p>如果直接修改 id 的賦值的話，那麼當 Gitalk 尋找以前的標籤的時候，便會出現找不到 Issue，自動創建一個新討論區的問題。。。</p>\\n<p>這很明顯不是我們需要的設計，我們是想要繼續運用那一個 Issue。</p>\\n<p>於是我便想了一下最近的 Issue 和以前的 Issue 的區別，其中一個就是時間的分別。</p>\\n<p>因為我遇到這個問題是 2018年 3月，所以用這個時間分開 id 的賦值就好了，比如把標題 (title) 設置成 id：</p>\\n<pre><code><pre><code class=\\\"hljs javascript\\\"><span class=\\\"hljs-keyword\\\">const</span> issueDate = <span class=\\\"hljs-string\\\">'2018-03-01'</span>;\\n\\n<span class=\\\"hljs-keyword\\\">if</span> (moment(createdDate).isAfter(issueDate)) {\\n  id = title;\\n}\\n</code></pre></code></pre>\\n<p>這樣的話，其實就可以了。但如果文章的標題很長的話，那又會超出 50字的限制。。。那麼用 md5 把字數縮短一下就好了。它既帶有唯一的特性，也可以限制字數。</p>\\n<p>首先安裝 md5 工具: <code>npm install md5</code>\\n然後在你寫入 Gitalk 評論區的地方寫入以下代碼：</p>\\n<pre><code><pre><code class=\\\"hljs javascript\\\"><span class=\\\"hljs-keyword\\\">import</span> md5 <span class=\\\"hljs-keyword\\\">from</span> <span class=\\\"hljs-string\\\">'md5'</span>;\\n\\nid = md5(title);\\n</code></pre></code></pre>\\n<p>如果你是使用 React 或者想要觀看代碼更改的話，那麼你可以查看我的 Commit Log： https://github.com/calpa/blog/commit/88c83f66b070655e645581783097f019e6539c0e#diff-b334c7299860c69226f3d8a8f4a36c1f</p>\\n<p>如果你覺得實用的話，不妨 Star 一下以獲得之後的最新更新。</p>\\n<h2 id=相關鏈接>相關鏈接</h2>\\n<ol>\\n<li><a href=\\\"https://www.npmjs.com/package/md5\\\">md5</a></li>\\n<li><a href=\\\"https://github.com/gitalk/gitalk\\\">gitalk/gitalk</a></li>\\n</ol>\\n\",\"title\":\"Gitalk Error: Validation Failed. 442 報錯解決方法\",\"createdDate\":\"2018-03-10T21:00+08:00\",\"headerImgur\":null,\"id\":\"3tKSnvjpFm6MUiYKOmAGk0\",\"toc\":[\"前言\",\"問題\",\"方法\",\"解決思路\",\"相關鏈接\"],\"tags\":\"Github, Gitalk, JavaScript\"},\"latestPosts\":{\"totalCount\":60,\"edges\":[{\"node\":{\"title\":\"【網易考拉校招】部門總監面對面-直播答疑邀約（附網易內推碼B222E54）\",\"url\":\"netease-kaola-live\",\"createdDate\":\"2018-08-01T20:00+08:00\"}},{\"node\":{\"title\":\"Uncaught ReferenceError: regeneratorRuntime is not defined 解決方法\",\"url\":\"regenerator-runtime-is-not-defined\",\"createdDate\":\"2018-07-29T20:00+08:00\"}},{\"node\":{\"title\":\"關於作者\",\"url\":\"about-calpa-liu\",\"createdDate\":\"2018-05-01T20:00+08:00\"}},{\"node\":{\"title\":\"【方法】在直接複製貼上內容的時候，可能已經不知不覺注入了一段不可視的「空白」\",\"url\":\"insert-zero-width-characters\",\"createdDate\":\"2018-04-06T23:00+08:00\"}},{\"node\":{\"title\":\"知乎無限 live 數據流網站\",\"url\":\"zhihu-unlimited-lives-website\",\"createdDate\":\"2018-03-28T20:49+08:00\"}},{\"node\":{\"title\":\"Gatsbyjs async/await 更新報錯解決方法\",\"url\":\"gatsybjs-async-await-upgrade-bug-solution\",\"createdDate\":\"2018-03-21T20:00+08:00\"}}]}},\"pathContext\":{\"id\":\"3tKSnvjpFm6MUiYKOmAGk0\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/2018-03-10-gitalk-error-validation-failed-442-solution.json\n// module id = 1025\n// module chunks = 47520242992039"],"sourceRoot":""}