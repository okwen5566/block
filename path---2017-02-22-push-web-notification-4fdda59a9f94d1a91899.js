webpackJsonp([0x8f17a07dfb09],{979:function(s,n){s.exports={data:{content:{content:'<p>如果要推送通知的話，我們首先要請求權限：<code>Notification.requestPermission()</code></p>\n<p>之後檢查<code>Notification.permission</code>來查看是否擁有權限。該值會是下面三個其中之一：</p>\n<ol>\n<li>default: 從未詢問用戶</li>\n<li>granted: 用戶授權顯示通知的權限</li>\n<li>denied: 用戶不授權。。。</li>\n</ol>\n<p>創造一個通知很簡單，<code>new Notification(text)</code>可以了。</p>\n<pre><code><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> text = <span class="hljs-string">"Hello, world"</span>;\n<span class="hljs-keyword">new</span> Notification(text);\n</code></pre></code></pre>\n<p><a data-fancybox="gallery" href="https://i.imgur.com/l1lVFXZ.png"><img class="lozad d-block mx-auto" data-src=https://i.imgur.com/l1lVFXZ.png title="Imgur" /></a></p>\n<p>沒有圖片的話會比較空虛，可以加入options。</p>\n<pre><code><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">push</span>(<span class="hljs-params"></span>) </span>{\n  <span class="hljs-keyword">var</span> title = <span class="hljs-string">"這是一個標題。。。"</span>;\n    <span class="hljs-keyword">var</span> options = {\n        <span class="hljs-attr">body</span>: <span class="hljs-string">"Calpa 寫了一篇文章XD"</span>,\n        <span class="hljs-attr">icon</span>: <span class="hljs-string">"https://calpa.github.io/img/profile.png"</span>\n    }\n    <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">new</span> Notification(title, options);\n}\n\npush();\n</code></pre></code></pre>\n<p><a data-fancybox="gallery" href="https://i.imgur.com/uuNPUoB.png"><img class="lozad d-block mx-auto" data-src=https://i.imgur.com/uuNPUoB.png title="Imgur" /></a></p>\n<p>如果要增加與用戶的互動，可以利用Notification的事件：</p>\n<ol>\n<li>onshow</li>\n<li>onclick</li>\n<li>onclose</li>\n<li>onerror</li>\n</ol>\n<p>我們可以監聽<code>onclick</code>，當用戶點擊通知，瀏覽器就會跳到目標頁面。</p>\n<pre><code><pre><code class="hljs javascript">n.onclick = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {\n    event.preventDefault();\n    <span class="hljs-built_in">window</span>.open(<span class="hljs-string">\'https://calpa.github.io/\'</span>, <span class="hljs-string">\'_blank\'</span>);\n}\n</code></pre></code></pre>\n<h2 id=參考資料>參考資料</h2>\n<ol>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API">Using the Notification API</a></li>\n</ol>\n',title:"初探 Web Notification",createdDate:"2017-02-22T15:20+08:00",headerImgur:null,id:"ccwEmOlfSoM0QUg62yeqg",toc:["參考資料"],tags:"Web"},latestPosts:{totalCount:60,edges:[{node:{title:"【網易考拉校招】部門總監面對面-直播答疑邀約（附網易內推碼B222E54）",url:"netease-kaola-live",createdDate:"2018-08-01T20:00+08:00"}},{node:{title:"Uncaught ReferenceError: regeneratorRuntime is not defined 解決方法",url:"regenerator-runtime-is-not-defined",createdDate:"2018-07-29T20:00+08:00"}},{node:{title:"關於作者",url:"about-calpa-liu",createdDate:"2018-05-01T20:00+08:00"}},{node:{title:"【方法】在直接複製貼上內容的時候，可能已經不知不覺注入了一段不可視的「空白」",url:"insert-zero-width-characters",createdDate:"2018-04-06T23:00+08:00"}},{node:{title:"知乎無限 live 數據流網站",url:"zhihu-unlimited-lives-website",createdDate:"2018-03-28T20:49+08:00"}},{node:{title:"Gatsbyjs async/await 更新報錯解決方法",url:"gatsybjs-async-await-upgrade-bug-solution",createdDate:"2018-03-21T20:00+08:00"}}]}},pathContext:{id:"ccwEmOlfSoM0QUg62yeqg"}}}});
//# sourceMappingURL=path---2017-02-22-push-web-notification-4fdda59a9f94d1a91899.js.map